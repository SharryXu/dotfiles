#!/usr/bin/env bash

# Check given folder is a git repository or not.
# Globals:
#   git
#   print
# Arguments:
#   Tool Name
#   Command Line Name (Optional)
# Returns:
#   IsAlive

function usage() {
  echo -e "usage: $(basename "$0") folder_path"

  exit 1
}

if [ $# -eq 1 ]; then
  folder=$(realpath "$1")

  if [[ ! -d $folder ]]; then
    color-print 3 "The folder is invalid."
    usage
  fi

  cd "$folder" || exit 1

  if git rev-parse --git-dir 2>/dev/null 1>&2; then
    cd - 1>/dev/null || exit 1

    exit 0
  else
    cd - 1>/dev/null || exit 1

    exit 1
  fi
else
  usage
fi
